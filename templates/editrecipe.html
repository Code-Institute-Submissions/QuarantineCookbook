{% extends 'base.html' %}

{% block content %}
<div class="add_recipe_header ">
    <img src="{{url_for('static', filename='/img/editrecipe.png')}}" alt="">
</div>
<!------------------------------------------------------------ -->
<div class="row">
    <form class="col s12" method="post" enctype="multipart/form-data">

        <div class="input-field col s4 offset-s2">
            <input id="recipe_name" name="recipe_name" type="text" class="validate" required minlength="3"
                maxlength="35" value="{{recipe.recipe_name}}">
            <label for="recipe_name">Name of your recipe...</label>
        </div>
        <div class="input-field col s4">
            <input id="author" name="author" type="text" value="{{recipe.author}}" readonly>
            <label for="confirm_password">Author</label>
            <span class="helper-text">(You cannot change this)</span>
        </div>
</div>
<!---------------------------------------------------------------- -->
<div class="row">
    <div class="input-field col s4 offset-s2">
        <textarea class="materialize-textarea validate" id="recipe_ingredients" name="recipe_ingredients" required
            minlength="3" maxlength="500"></textarea>
        <label id="ingredients_label" for="recipe_ingredients">Ingredients List...</label>
    </div>
    <div class="input-field col s2">
        <input id="time" name="time" type="number" class="validate" required min="1" max="600" value="{{recipe.time}}">
        <label for="time">Time(mins):</label>
    </div>

    <div class="input-field col s2">
        <input id="serves" name="serves" type="number" class="validate" required min="1" max="10"
            value="{{recipe.serves}}">
        <label for="serves">Serves:</label>
    </div>

</div>
<!---------------------------------------------------------------- -->
<div class="row">
    <div class="input-field col s4 offset-s2">
        <textarea class="materialize-textarea validate" id="recipe_desc" name="recipe_desc" required minlength="3"
            maxlength="1000"></textarea>
        <label id="desc_label" class="active" for="recipe_desc">Recipe Description...</label>
    </div>
    <div class="input-field col s4">
        <textarea class="materialize-textarea validate" id="recipe_method" name="recipe_method" required minlength="3"
            maxlength="2000"></textarea>
        <label id="method_label" for="recipe_method">Recipe Method...</label>
    </div>
</div>

<div class="row">
    <div class="col s4 offset-s2 recipe_form ">




        <p>
            <label>
                <input type="checkbox" id="is_veggie" name="is_veggie" />
                <span>Vegetarian</span>
            </label>
        </p>

        <p>
            <label>
                <input type="checkbox" id="is_vegan" name="is_vegan" />
                <span>Vegan</span>
            </label>
        </p>

    </div>
</div>
<div class="row">
    <div class="col s4 offset-s5">
        <button class="btn waves-effect waves-light" type="submit" name="action">Upload Recipe
        </button>
    </div>

</div>



</form>
<script src="https://code.jquery.com/jquery-3.5.0.min.js"
    integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
<script>
    $(document).ready(function () {
        $("#recipe_ingredients").val("{{recipe.recipe_ingredients}}");
        M.textareaAutoResize($('#recipe_ingredients'));
        $("#ingredients_label").addClass("active");

        $("#recipe_desc").val("{{recipe.recipe_desc}}");
        M.textareaAutoResize($('#recipe_desc'));
        $("#desc_label").addClass("active");

        $("#recipe_method").val("{{recipe.recipe_method}}");
        M.textareaAutoResize($('#recipe_method'));
        $("#method_label").addClass("active");

    });
</script>

{%  if recipe.is_veggie == 'on' %}
<script>
    $('#is_veggie').prop('checked', true);
</script>
{% else %}
<script>
    $('#is_veggie').prop('checked', false);
</script>
{% endif %}
{% if recipe.is_vegan == 'on'%}
<script>
    $('#is_vegan').prop('checked', true);
</script>
{% else %}
<script>
    $('#is_vegan').prop('checked', false);
</script>
{% endif %}
{% endblock content %}